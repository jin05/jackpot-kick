# CLAUDE.md

このファイルは Claude Code (claude.ai/code) がこのリポジトリのコードで作業する際のガイダンスを提供します。

## YOU MUST:

回答は日本語で行ってください

## プロジェクト概要

**jackpot-kick** は J-League のマッチデータを生成・処理する Python プロジェクトです。リアルな過去試合データを生成するモックデータジェネレータが含まれており、チーム情報、スコア、試合結果を含みます。

## プロジェクト構造

```
jackpot-kick/
├── src/
│   ├── __init__.py           # MockDataGenerator をエクスポート
│   └── data_loader.py        # コア生成ロジック
├── data/
│   └── raw_match_data.csv    # 生成されたマッチデータの出力
├── main.py                   # データ生成のエントリーポイント
└── README.md                 # プロジェクト概要
```

## 主要コンポーネント

### MockDataGenerator (src/data_loader.py)

J-League 風マッチデータを生成するメインクラス。主な特徴：

- **チーム**: 18 チーム (Team_A ～ Team_R, J-League の構成に対応) のデータを生成
- **データ出力**: 以下のカラムを持つ pandas DataFrame を返す：
  - `date`: 試合日付 (YYYY-MM-DD 形式)
  - `home_team`, `away_team`: チーム名
  - `home_score`, `away_score`: スコア (0-5 の範囲)
  - `result`: 0=アウェイチーム勝利, 1=引き分け, 2=ホームチーム勝利
- **再現性**: 決定論的なデータ生成のための任意の `seed` パラメータをサポート
- **自動ソート**: 生成されたレコードを日付でソート

### データ生成パイプライン

`main.py` スクリプトが完全なパイプラインを示す：

1. シード値を使用してジェネレータを初期化 (再現性のため)
2. N サンプル分のマッチデータを生成
3. 必要に応じて `data/` ディレクトリを作成
4. `data/raw_match_data.csv` に CSV として保存

## プロジェクトの実行

### モックデータの生成

```bash
python main.py
```

seed=42 で 1000 件のマッチレコードを生成し、`data/raw_match_data.csv` に保存します。生成量を変更する場合は main.py の `n_samples` パラメータを修正してください。

## 依存関係

プロジェクトが使用するもの：

- **pandas**: データ操作と CSV 出力
- **Python 3.10+**: ユニオン型構文 (`int | None`) を使用

明示的な requirements.txt は存在しません。依存関係は必要に応じて pip でインストールしてください。

## 開発上の注記

- コードベースは小規模で、データ生成に焦点を当てている
- テストは現在実装されていない。データ出力の検証用テストの追加を検討してください
- モックデータジェネレータは Python の `random` モジュール (numpy ではない) を使用するため、シード設定は `random.seed()` で行う
- 同じシードを使用すれば結果は確定的で、再現可能なパイプラインが実現できる

## 修正の際の注意点

- 修正を行う際には必ず以下のことに順守してください
  - 該当修正によって他の処理に問題がないか慎重に確認を行って作業を行ってください。
  - 他の動作に関しても修正が必要な場合は既存の期待値の動作が正常に起動するように修正してください。

## コミット前に確認すること（必ず実施）

- コミット前には必ず動作確認を行って動作が問題ないかを確認してください
  - 動作確認中にエラーが発見された際はタスクを更新してください
  - コミットする際はエラーがない状態で行ってください

## ファイル作成時の注意点（ファイル作成時必ず確認）

- ファイル作成時に、そのファイルがGithubに挙げられるべきではないと判断した場合には、必ず.gitignoreに指定してください。
